(window.webpackJsonpFlowNote=window.webpackJsonpFlowNote||[]).push([[1],{129:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=new i.default(e);return{Expression:t.Expression,FlowTypes:t.FlowTypes,NodeTypes:t.NodeTypes,PathTypes:t.PathTypes,FlowDefinition:(e,n,o,i,a,r,s,l,d,c)=>t.FlowDefinition(n,i,r,l,c),NodeDefinition:(e,n,o,i,a)=>t.NodeDefinition(n,o,a),Actions:e=>t.Actions(e),Path:(e,n,o)=>t.Path(e,n,o),NonemptyListOf:(e,n,o)=>t.NonemptyListOf(e,n,o),EmptyListOf:()=>[],Import:(e,n,o,i,a,r)=>t.Import(o,a),Nodes:e=>t.Nodes(e),Milestone:(e,n)=>t.Milestone(e),Node:e=>t.Node(e),WaitsFor:(e,n,o)=>t.WaitsFor(e,o),NodeBase:e=>t.NodeBase(e),SilentNode:(e,n)=>t.SilentNode(e),IdentityNode:(e,n,o)=>t.IdentityNode(e,o),StandardNode:e=>t.StandardNode(e),Channel:e=>t.Channel(e),ErrorChannel:(e,n,o,i)=>t.ErrorChannel(n,o),PlainChannel:(e,n,o)=>t.PlainChannel(n),NamedChannel:(e,n,o,i)=>t.NamedChannel(n,o),Properties:(e,n,o)=>t.Properties(n),Property:(e,n,o)=>t.Property(e,o),HttpMethods:e=>t.HttpMethods(e),label:e=>t.label(e),string:(e,n,o)=>t.string(n),_terminal:()=>this.primitiveValue,alnum:e=>e.sourceString,digit:e=>e.sourceString,number:e=>t.number(e),fraction:(e,n,o)=>t.fraction(e,n,o),whole:e=>t.whole(e),space:e=>t.space(e),comment:e=>t.comment(e),multiLineComment:(e,n,o)=>t.multiLineComment(n),singleLineComment:(e,n)=>t.singleLineComment(e,n)}};var o,i=(o=n(131))&&o.__esModule?o:{default:o}},131:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(6)),i=c(n(26)),a=c(n(38)),r=c(n(132)),s=c(n(36)),l=c(n(37)),d=c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}n(27);t.default=class{constructor(e){this.application=e,this.nodeFactories={},this.nodeAliases={}}getNodeInstance(e){const t=this.nodeFactories[e]||{tags:[],actions:[]};return new s.default(this.application,void 0,e,void 0,t.tags,t.actions)}FlowTypes(e){return e.eval()}NodeTypes(e){return e.eval()}PathTypes(e){return e.eval()}Expression(e){return e.eval()}FlowDefinition(e,t,n,o,i){const a=t.eval(),r="/"+n.eval().join("/");if(this.application.getFlowByHttp(a,r))throw new Error(`Flow definition already exists for the ${a} ${r} endpoint.`);const l=new d.default(this.application,void 0,e.eval(),o.eval(),void 0,a,r,void 0),c=i.eval(),u=c[0];let v=c[0];for(var h=1,f=c.length;h<f;h++){const e=c[h];if(void 0!==e){if(v instanceof s.default){const e=v.hasMilestone();e&&(v=e)}v.connect(e),v=e}}l.connect(u),this.application.registerFlow(l)}NodeDefinition(e,t,n){const o=e.eval();if(this.nodeAliases[o])return this.nodeAliases[o];if(void 0!==this.nodeFactories[o])throw new Error(`Node definition already exists for the ${o}.`);this.nodeFactories[o]={tags:[],config:t.eval(),actions:n.eval()}}Actions(e){const t=e.eval(),n=[];return t.forEach(e=>{if(void 0!==e){const t=this.application.requireAction(e,new Function(`return function ${e} () {\n          // @TODO Fill out this stub\n        }`)());n.push(t)}}),n}Path(e,t,n){const o=e.eval(),i=t.eval(),a=n.eval();let r=i;return a.forEach(e=>{if(void 0!==e){if(r instanceof s.default){const e=r.hasMilestone();e&&(r=e)}r.connect(e),r=e}}),o.connect(i),o}NonemptyListOf(e,t,n){const o=e.eval(),i=e.ctorName;if(void 0===o)return[];if("Nodes"===i){const e=t.eval(),i=n.eval(),s=[o];for(var a=0,r=e.length;a<r;a++)s.push(e[a]),s.push(i[a]);return s}if("Property"===i)return o.concat(n.eval());if("label"===i)return[o].concat(n.eval());throw new Error("Unknown ctorName: "+i)}Import(e,t){return{}}Nodes(e){return e.eval()}LinguisticNodes(e){return e.eval()}Milestone(e){const t=e.eval(),n=new i.default(this.application,void 0,"Plain",void 0,[]),o=new l.default(this.application,void 0,"Milestone","fcfs",[],[]);return t.connect(n),n.connect(o),t}LinguisticMilestone(e){return new l.default(this.application,void 0,"Milestone","fcfs",[],[])}Node(e){return e.eval()}WaitsFor(e,t){const n=e.eval(),i=t.eval(),a=new o.default(this.application,void 0,`waitsFor${i}`,async function(){await this.waitsFor(i)});return n.addAction(a,n.actions.length-1),n}NodeBase(e){return e.eval()}SilentNode(e){const t=e.eval();if(this.nodeAliases[t.name])throw new Error("Cannot modify labeled a Path root.");return t}IdentityNode(e,t){const n=e.eval(),o=t.eval();return this.nodeAliases[o]||(this.nodeAliases[o]=n),this.nodeAliases[o]}StandardNode(e){const t=e.eval();return this.nodeAliases[t]?this.nodeAliases[t]:this.getNodeInstance(t)}Concept(e){const t=[];return e.forEach(e=>{void 0!==e&&t.push(e.eval())}),t.join(" ")}Channel(e){return e.eval()}ErrorChannel(e,t){const n=e.eval(),o=t.eval();return new a.default(this.application,void 0,n,void 0,[n],o.retry,o.retryDelay,[])}PlainChannel(e){const t=e.eval();return new i.default(this.application,void 0,"Plain",void 0,[],t.retry,t.retryDelay,[])}NamedChannel(e,t){const n=e.eval(),o=t.eval();return new r.default(this.application,void 0,n,void 0,[n],o.retry,o.retryDelay,[])}Properties(e){const t={};return e.eval().forEach(e=>{void 0!==e&&(t[e[0]]=e[1])}),t}Property(e,t){return[e.eval(),t.eval()]}HttpMethods(e){return e.eval()}label(e){return e.eval().join("")}string(e){return e.eval()}number(e){return e.eval()}fraction(e,t,n){const o=e.eval(),i="0."+n.eval();return Number(o)+Number(i)}whole(e){return Number(e.eval())}space(e){return e.eval()}comment(e){return e.eval()}multiLineComment(e){return e.eval()}singleLineComment(e,t){return t.eval()}}},132:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=(o=n(3))&&o.__esModule?o:{default:o};t.default=class extends i.default{constructor(e,t,n,o,i=[],a,r,s=[]){const l=e.requireAction("gotoNodeFromNamedChannel",function(){this.dispatch("StandardNode")});super(e,t,n,o,i,a,r,s.concat([l]))}}}}]);