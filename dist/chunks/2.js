(window.webpackJsonpFlowNote=window.webpackJsonpFlowNote||[]).push([[2],{132:function(e,t,n){"use strict";var i,o=(i=n(133))&&i.__esModule?i:{default:i};e.exports=function(e){const t=new o.default(e);return{Expression:t.Expression,FlowTypes:t.FlowTypes,NodeTypes:t.NodeTypes,PathTypes:t.PathTypes,LinguisticFlowDefinition:(e,n,i,o,a,r,s,l,c,d,u)=>t.FlowDefinition(e,o,r,l,u),LinguisticNodeDefinition:(e,n,i,o)=>t.NodeDefinition(e,{},o),LinguisticActionsPlural:(e,t,n)=>{},LinguisticActionsSingular:e=>{},LinguisticActions:e=>{},NonemptyListOf:t.NonemptyListOf,LinguisticPath:t.Path,LinguisticPathSeparator:(e,t)=>t.eval(),Import:(e,n,i,o,a)=>t.Import(i,a),LinguisticNodes:t.Nodes,LinguisticMilestone:t.Milestone,LinguisticNode:t.Node,LinguisticWaitsFor:(e,n,i)=>t.WaitsFor(e,i),LinguisticNodeBase:t.NodeBase,LinguisticSilentNode:(e,n)=>t.SilentNode(n),LinguisticIdentityNode:(e,n,i,o)=>t.IdentityNode(e,i),LinguisticStandardNode:t.StandardNode,Concept:t.Concept,LinguisticChannel:t.Channel,LinguisticErrorChannel:(e,n,i,o)=>t.ErrorChannel(n,i),LinguisticPlainChannel:(e,n,i)=>t.PlainChannel(n),LinguisticNamedChannel:(e,n,i,o)=>t.NamedChannel(n,i),Properties:(e,n,i)=>t.Properties(n),Property:(e,n,i)=>t.Property(e,i),HttpMethods:t.HttpMethods,label:t.label,string:(e,n,i)=>t.string(n),_terminal:()=>this.primitiveValue,number:t.number,fraction:t.fraction,whole:t.whole,space:t.space,comment:t.comment,multiLineComment:t.multiLineComment,singleLineComment:t.singleLineComment}}},133:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=d(n(6)),o=d(n(26)),a=d(n(40)),r=d(n(134)),s=d(n(38)),l=d(n(39)),c=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}n(27);t.default=class{constructor(e){this.application=e,this.nodeFactories={},this.nodeAliases={}}getNodeInstance(e){const t=this.nodeFactories[e]||{tags:[],actions:[]};return new s.default(this.application,void 0,e,void 0,t.tags,t.actions)}FlowTypes(e){return e.eval()}NodeTypes(e){return e.eval()}PathTypes(e){return e.eval()}Expression(e){return e.eval()}FlowDefinition(e,t,n,i,o){const a=t.eval(),r="/"+n.eval().join("/");if(this.application.getFlowByHttp(a,r))throw new Error(`Flow definition already exists for the ${a} ${r} endpoint.`);const l=new c.default(this.application,void 0,e.eval(),i.eval(),void 0,a,r,void 0),d=o.eval(),u=d[0];let v=d[0];for(var h=1,p=d.length;h<p;h++){const e=d[h];if(void 0!==e){if(v instanceof s.default){const e=v.hasMilestone();e&&(v=e)}v.connect(e),v=e}}l.connect(u),this.application.registerFlow(l)}NodeDefinition(e,t,n){const i=e.eval();if(this.nodeAliases[i])return this.nodeAliases[i];if(void 0!==this.nodeFactories[i])throw new Error(`Node definition already exists for the ${i}.`);this.nodeFactories[i]={tags:[],config:t.eval(),actions:n.eval()}}Actions(e){const t=e.eval(),n=[];return t.forEach(e=>{if(void 0!==e){const t=this.application.requireAction(e,new Function(`return function ${e} () {\n          // @TODO Fill out this stub\n        }`)());n.push(t)}}),n}Path(e,t,n){const i=e.eval(),o=t.eval(),a=n.eval();let r=o;return a.forEach(e=>{if(void 0!==e){if(r instanceof s.default){const e=r.hasMilestone();e&&(r=e)}r.connect(e),r=e}}),i.connect(o),i}NonemptyListOf(e,t,n){const i=e.eval(),o=e.ctorName;if(void 0===i)return[];if("Nodes"===o){const e=t.eval(),o=n.eval(),s=[i];for(var a=0,r=e.length;a<r;a++)s.push(e[a]),s.push(o[a]);return s}if("Property"===o)return i.concat(n.eval());if("label"===o)return[i].concat(n.eval());throw new Error("Unknown ctorName: "+o)}Import(e,t){return{}}Nodes(e){return e.eval()}LinguisticNodes(e){return e.eval()}Milestone(e){const t=e.eval(),n=new o.default(this.application,void 0,"Plain",void 0,[]),i=new l.default(this.application,void 0,"Milestone","fcfs",[],[]);return t.connect(n),n.connect(i),t}LinguisticMilestone(e){return new l.default(this.application,void 0,"Milestone","fcfs",[],[])}Node(e){return e.eval()}WaitFor(e,t){const n=e.eval(),o=t.eval(),a=new i.default(this.application,void 0,`waitFor${o}`,async function(){await this.waitFor(o)});return n.addAction(a,n.actions.length-1),n}NodeBase(e){return e.eval()}SilentNode(e){const t=e.eval();if(this.nodeAliases[t.name])throw new Error("Cannot modify labeled a Path root.");return t}IdentityNode(e,t){const n=e.eval(),i=t.eval();return this.nodeAliases[i]||(this.nodeAliases[i]=n),this.nodeAliases[i]}StandardNode(e){const t=e.eval();return this.nodeAliases[t]?this.nodeAliases[t]:this.getNodeInstance(t)}Concept(e){const t=[];return e.forEach(e=>{void 0!==e&&t.push(e.eval())}),t.join(" ")}Channel(e){return e.eval()}ErrorChannel(e,t){const n=e.eval(),i=t.eval();return new a.default(this.application,void 0,n,void 0,[n],i.retry,i.retryDelay,[])}PlainChannel(e){const t=e.eval();return new o.default(this.application,void 0,"Plain",void 0,[],t.retry,t.retryDelay,[])}NamedChannel(e,t){const n=e.eval(),i=t.eval();return new r.default(this.application,void 0,n,void 0,[n],i.retry,i.retryDelay,[])}Properties(e){const t={};return e.eval().forEach(e=>{void 0!==e&&(t[e[0]]=e[1])}),t}Property(e,t){return[e.eval(),t.eval()]}HttpMethods(e){return e.eval()}label(e){return e.eval().join("")}string(e){return e.eval()}number(e){return e.eval()}fraction(e,t,n){const i=e.eval(),o="0."+n.eval();return Number(i)+Number(o)}whole(e){return Number(e.eval())}space(e){return e.eval()}comment(e){return e.eval()}multiLineComment(e){return e.eval()}singleLineComment(e,t){return t.eval()}}},134:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(3))&&i.__esModule?i:{default:i};t.default=class extends o.default{constructor(e,t,n,i,o=[],a,r,s=[]){const l=e.requireAction("gotoNodeFromNamedChannel",function(){this.dispatch("StandardNode")});super(e,t,n,i,o,a,r,s.concat([l]))}}}}]);